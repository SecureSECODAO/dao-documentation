import { Callout } from "nextra/components";
import { Steps } from "nextra-theme-docs";

# Diamond Cut

<Callout type="error" emoji="ðŸ›‡">
  The diamond cut action is an advanced action. It is only relevant for members
  who have thorough knowledge of smart contract programming and [diamonds
  (ERC-2535)](/diamond). It is not possible to create a proposal with a diamond
  cut action using the DAO webapp.
</Callout>

## What is a diamond cut?

A [diamond cut](/diamond/what-is-a-diamond#diamond-cut-and-loupe) is a way of changing the functionality of the DAO. It can be used to add, replace or remove functionality from the DAO. For example, you could create a diamond cut to change the current [ERC-20](https://ethereum.org/en/developers/docs/standards/tokens/erc-20/) based voting to [ERC-721](https://ethereum.org/en/developers/docs/standards/tokens/erc-721/) (NFTs). For this to work you would have to write an ERC-721 governance structure facet smart contract.

As this action can have huge consequences if not considered carefully, this action can only be created using smart contract calls. This serves as a first test to see if you know what you are doing. Helper functions to create a proposal with a diamond cut action are provided in the Diamond Governance repo. Follow the guide below to add your own diamond cut proposal to the DAO.

Note that, although creating a propsal with a diamond cut action is not supported in the webapp, viewing a proposal with a diamond cut action is supported. This means that you can create a proposal with a diamond cut action using the steps below and then view it in the webapp like any other action. This means voters will know what action is attached to the proposal, and can make an informed decision on whether to vote for it or not.

## Diamond cut proposal guide

<Steps>

### Clone the Diamond Governance repository

Start by cloning the [Diamond Governance repository](https://github.com/SecureSECODAO/diamond-governance) from GitHub. This repository contains helpful functions for creating a proposal with a diamond cut action.

### Build the Diamond Governance project

Follow the instructions provided in the readme's [setup section](https://github.com/SecureSECODAO/diamond-governance#setup) to build the project. This will generate a `dist` folder containing the compiled smart contracts.

### Create the `.env` file

Make a copy of the `.env.sample` file and rename it to `.env`. Fill in the required properties, which typically include your private key for the desired network.

### Configure the proposal generator script

Open the `scripts/GenerateDiamondCutProposal.ts` file and provide the necessary settings such as the diamond address, cut, and proposal metadata.

### Run the proposal generator script

Execute the proposal generator script by running the following command:

```bash
npx hardhat run ./scripts/GenerateDiamondCutProposal.ts --network {your desired network name}
```

### You're all set!

Congratulations! You should now be able to view the proposal you created in the [webapp](https://dao.secureseco.org/governance) and see a diamond cut action attached to it.

</Steps>
